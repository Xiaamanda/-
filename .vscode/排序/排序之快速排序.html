<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 基本思想：分治思想 -->
    <script>
        function quickSort(arr,left=0,right = arr.length-1){
            // 定义递归边界，即数组长度为1，不用排序
            if(arr.length = 1){
                return arr
            }
            // 当数组长度大于1时
            // lineIndex为下一次划分左右子数组的索引位
            const lineIndex = partition(arr,left,right)
            // 若左子树长度不小于1，则递归快排左子数
            if(left<lineIndex-1){
                quickSort(arr,left,lineIndex -1)
            }
            // 右子树
            if(right>lineIndex){
                quickSort(arr,lineIndex,right)
            }
            return arr
        }

        // 以基准为中心，划分左右子树
        function partition(arr,left,right){
            // 默认基准值为中间位置元素
            let pivotValue = arr[Math.floor(left+(right-left)/2)]
            // 初始化左右指针
            let i = left
            let j = right
            // 当左右指针未越界时
            while(i<=j){
                // 左指针元素若小于基准值，则往右
                while(arr[i]<pivotValue){
                    i++
                }
                // 右指针元素大于基准值，则往左
                while(arr[j]>pivotValue){
                    j--
                }
            }
            // 当基准越界，即基准值左边有大于该值的元素，右边有小于该值的元素，应交换两个元素
            if(i>j){
                swap(arr,i,j)
                i++
                j--
            }

        }
    </script>

<!--教材解法：默认将第一个元素作为基准点，遍历数组，小于基准点的存入左数组，大于存入右数组，对左右数组递归遍历  -->
    <script>
        function quickSort1(arr){
            // 递归边界，数组为空或只有有一个元素(改变了递归边界)
            if(arr.length <=1){
                return arr
            }
            var left = []
            var reigt = []
            var pivot = arr[0]
            // 遍历数组
            for(i=1;1<arr.length;i++){
                if(arr[i]<pivot){
                    left.push(arr[i])
                }else{
                    righ.push(arr[i])
                }
            }
            return quickSort1(left).concat(pivot,quickSort1(right))
        }
    </script>
</body>
</html>